<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - ClientAT</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>ClientAT</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/edu.obya.blueprint.client.at.html">edu.obya.blueprint.client.at</a> &gt; ClientAT</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">33</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">20.481s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">A removed client cannot be looked up</td>
<td class="success">0.261s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A removed client cannot be searched</td>
<td class="success">0.242s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to create</td>
<td class="success">0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to modify</td>
<td class="success">0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to read</td>
<td class="success">14.150s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user must be authenticated to remove</td>
<td class="success">0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot create</td>
<td class="success">0.159s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot modify</td>
<td class="success">0.242s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot read</td>
<td class="success">0.166s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with no permission cannot remove</td>
<td class="success">0.136s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">A user with write permission cannot remove</td>
<td class="success">0.346s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a client duplicate on name when adding a new client</td>
<td class="success">0.213s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a client duplicate when updating an existing client</td>
<td class="success">0.165s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Add a new client to the existing clients</td>
<td class="success">0.306s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">An authorized user can read</td>
<td class="success">0.496s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.192s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.357s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.181s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.1</td>
<td class="success">0.193s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.153s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.152s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.175s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.2</td>
<td class="success">0.168s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.3</td>
<td class="success">0.166s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.4</td>
<td class="success">0.155s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Example #1.5</td>
<td class="success">0.155s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Look up a non-existing client</td>
<td class="success">0.173s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Look up an existing client</td>
<td class="success">0.175s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Remove a non-existing client</td>
<td class="success">0.142s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Restore a non-existing client</td>
<td class="success">0.148s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Restore a non-removed client</td>
<td class="success">0.142s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Restore a removed client</td>
<td class="success">0.372s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">Update a non-existing client</td>
<td class="success">0.174s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>2023-05-22 09:16:18.392  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:18.393  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:18.412  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:18.415  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:18.416  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f6e6f50, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1f7fcec2, com.ninjasquad.springmockk.MockkTestExecutionListener@796cf2b5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7a71ebf1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@16890f00, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77e1dacd, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@690677de, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1c5d376c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42f2cae8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3bbc47c9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@615e7fe7, org.springframework.test.context.event.EventPublishingTestExecutionListener@144dc2f7, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@403cff1c, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@19677add, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@b548f51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@71f4aeb6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@56976b8b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@74844216, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5b0575d0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fd0e118, io.zonky.test.db.event.EventPublishingTestExecutionListener@62f6185a]
_________ .__  .__               __
\_   ___ \|  | |__| ____   _____/  |_  ______
/    \  \/|  | |  |/ __ \ /    \   __\/  ___/
\     \___|  |_|  \  ___/|   |  \  |  \___ \
 \______  /____/__|\___  &gt;___|  /__| /____  &gt;
        \/             \/     \/          \/
2023-05-22 09:16:18.506  WARN 1977 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/org.json/json/20220924/5aa95e7688f76c664af205c5937620f02688dfbc/json-20220924.jar!/org/json/JSONObject.class
	jar:file:/home/runner/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-05-22 09:16:18.510  INFO 1977 --- [    Test worker] e.o.b.client.at.ClientATBootstrap        : Starting ClientATBootstrap using Java 17.0.7 on fv-az548-899 with PID 1977 (started by runner in /home/runner/work/arch-blueprint-kotlin/arch-blueprint-kotlin)
2023-05-22 09:16:18.510  INFO 1977 --- [    Test worker] e.o.b.client.at.ClientATBootstrap        : The following 3 profiles are active: &quot;test&quot;, &quot;r2dbc&quot;, &quot;at&quot;
2023-05-22 09:16:19.130  INFO 1977 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.
2023-05-22 09:16:19.249  INFO 1977 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 1 R2DBC repository interfaces.
2023-05-22 09:16:19.531  INFO 1977 --- [    Test worker] EmbeddedDatabaseContextCustomizerFactory : Replacing 'dataSource' DataSource bean with embedded version
2023-05-22 09:16:19.720  INFO 1977 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-22 09:16:19.767  INFO 1977 --- [    Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration' of type [io.zonky.test.db.config.EmbeddedDatabaseAutoConfiguration$$EnhancerBySpringCGLIB$$7860e8be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-22 09:16:20.222  WARN 1977 --- [  prefetching-1] o.t.utility.TestcontainersConfiguration  : Attempted to read Testcontainers configuration file at file:/home/runner/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: /home/runner/.testcontainers.properties (No such file or directory)
2023-05-22 09:16:20.224  INFO 1977 --- [  prefetching-1] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-05-22 09:16:20.685  INFO 1977 --- [  prefetching-1] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-05-22 09:16:20.695  INFO 1977 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-05-22 09:16:20.715  INFO 1977 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 20.10.24+azure-1
  API Version: 1.41
  Operating System: Ubuntu 22.04.2 LTS
  Total Memory: 6943 MB
2023-05-22 09:16:20.755  INFO 1977 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling docker image: testcontainers/ryuk:0.3.4. Please be patient; this may take some time but only needs to be done once.
2023-05-22 09:16:21.025  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Starting to pull image
2023-05-22 09:16:21.042  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2023-05-22 09:16:21.155  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  2 pending,  1 downloaded,  0 extracted, (56 KB/? MB)
2023-05-22 09:16:21.156  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  1 pending,  2 downloaded,  0 extracted, (56 KB/? MB)
2023-05-22 09:16:21.171  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  0 pending,  3 downloaded,  0 extracted, (321 KB/5 MB)
2023-05-22 09:16:21.271  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  0 pending,  3 downloaded,  1 extracted, (2 MB/5 MB)
2023-05-22 09:16:21.575  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  0 pending,  3 downloaded,  2 extracted, (2 MB/5 MB)
2023-05-22 09:16:21.691  INFO 1977 --- [tream-289205122] &#x1f433; [testcontainers/ryuk:0.3.4]           : Pulling image layers:  0 pending,  3 downloaded,  3 extracted, (5 MB/5 MB)
2023-05-22 09:16:21.713  INFO 1977 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4
2023-05-22 09:16:21.763  INFO 1977 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: f03911ef9a25a536f79447d16529b82093bbe9fd61abbbe53c2981f022fa92a8
2023-05-22 09:16:22.108  INFO 1977 --- [  prefetching-1] &#x1f433; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT1.38409855S
2023-05-22 09:16:22.113  INFO 1977 --- [  prefetching-1] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-05-22 09:16:22.114  INFO 1977 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : Checking the system...
2023-05-22 09:16:22.114  INFO 1977 --- [  prefetching-1] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2023-05-22 09:16:22.117  INFO 1977 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Pulling docker image: postgres:11-alpine. Please be patient; this may take some time but only needs to be done once.
2023-05-22 09:16:22.380  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Starting to pull image
2023-05-22 09:16:22.381  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2023-05-22 09:16:22.486  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  7 pending,  1 downloaded,  0 extracted, (149 bytes/? MB)
2023-05-22 09:16:22.489  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  6 pending,  2 downloaded,  0 extracted, (1 KB/? MB)
2023-05-22 09:16:22.515  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  5 pending,  3 downloaded,  0 extracted, (34 KB/? MB)
2023-05-22 09:16:22.533  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  4 pending,  4 downloaded,  0 extracted, (73 KB/? MB)
2023-05-22 09:16:22.569  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  3 pending,  5 downloaded,  0 extracted, (600 KB/? MB)
2023-05-22 09:16:22.578  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  2 pending,  6 downloaded,  0 extracted, (600 KB/? MB)
2023-05-22 09:16:22.623  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  1 pending,  7 downloaded,  0 extracted, (605 KB/? MB)
2023-05-22 09:16:22.735  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  1 pending,  7 downloaded,  1 extracted, (17 MB/? MB)
2023-05-22 09:16:22.868  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  1 pending,  7 downloaded,  2 extracted, (37 MB/? MB)
2023-05-22 09:16:22.974  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  1 pending,  7 downloaded,  3 extracted, (50 MB/? MB)
2023-05-22 09:16:23.158  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  3 extracted, (69 MB/85 MB)
2023-05-22 09:16:26.349  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  4 extracted, (85 MB/85 MB)
2023-05-22 09:16:26.408  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  5 extracted, (85 MB/85 MB)
2023-05-22 09:16:26.453  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  6 extracted, (85 MB/85 MB)
2023-05-22 09:16:26.505  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  7 extracted, (85 MB/85 MB)
2023-05-22 09:16:26.550  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pulling image layers:  0 pending,  8 downloaded,  8 extracted, (85 MB/85 MB)
2023-05-22 09:16:26.561  INFO 1977 --- [ream-1756608318] &#x1f433; [postgres:11-alpine]                  : Pull complete. 8 layers, pulled in 4s (downloaded 85 MB at 21 MB/s)
2023-05-22 09:16:26.564  INFO 1977 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Creating container for image: postgres:11-alpine
2023-05-22 09:16:26.581  INFO 1977 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine is starting: d80643845ee4e8710cb4f321f8a789bb13ee213d2a41a29b3e644261f26a9bbd
2023-05-22 09:16:28.064  INFO 1977 --- [  prefetching-1] &#x1f433; [postgres:11-alpine]                  : Container postgres:11-alpine started in PT5.949835807S
2023-05-22 09:16:28.071  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The files belonging to this database system will be owned by user &quot;postgres&quot;.
2023-05-22 09:16:28.071  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: This user must also own the server process.
2023-05-22 09:16:28.076  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.076  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The database cluster will be initialized with locale &quot;en_US.utf8&quot;.
2023-05-22 09:16:28.077  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default database encoding has accordingly been set to &quot;UTF8&quot;.
2023-05-22 09:16:28.077  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The default text search configuration will be set to &quot;english&quot;.
2023-05-22 09:16:28.078  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.078  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Data page checksums are disabled.
2023-05-22 09:16:28.083  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.085  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: fixing permissions on existing directory /var/lib/postgresql/data ... ok
2023-05-22 09:16:28.085  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating subdirectories ... ok
2023-05-22 09:16:28.085  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default max_connections ... 100
2023-05-22 09:16:28.086  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default shared_buffers ... 128MB
2023-05-22 09:16:28.086  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting default timezone ... UTC
2023-05-22 09:16:28.093  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: selecting dynamic shared memory implementation ... posix
2023-05-22 09:16:28.093  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: creating configuration files ... ok
2023-05-22 09:16:28.094  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: running bootstrap script ... ok
2023-05-22 09:16:28.094  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: sh: locale: not found
2023-05-22 09:16:28.094  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:27.218 UTC [30] WARNING:  no usable system locales were found
2023-05-22 09:16:28.094  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: performing post-bootstrap initialization ... ok
2023-05-22 09:16:28.095  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.096  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Sync to disk skipped.
2023-05-22 09:16:28.096  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: The data directory might become corrupt if the operating system crashes.
2023-05-22 09:16:28.096  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.097  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: Success. You can now start the database server using:
2023-05-22 09:16:28.098  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.098  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:     pg_ctl -D /var/lib/postgresql/data -l logfile start
2023-05-22 09:16:28.098  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.099  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 
2023-05-22 09:16:28.100  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: WARNING: enabling &quot;trust&quot; authentication for local connections
2023-05-22 09:16:28.101  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: You can change this by editing pg_hba.conf or using the option -A, or
2023-05-22 09:16:28.102  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: --auth-local and --auth-host, the next time you run initdb.
2023-05-22 09:16:28.102  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to start....2023-05-22 09:16:27.594 UTC [36] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-22 09:16:28.102  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.608 UTC [37] LOG:  database system was shut down at 2023-05-22 09:16:27 UTC
2023-05-22 09:16:28.103  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.613 UTC [36] LOG:  database system is ready to accept connections
2023-05-22 09:16:28.103  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-22 09:16:28.104  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server started
2023-05-22 09:16:28.105  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: CREATE DATABASE
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.928 UTC [36] LOG:  received fast shutdown request
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.928 UTC [36] LOG:  aborting any active transactions
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: waiting for server to shut down....2023-05-22 09:16:27.931 UTC [36] LOG:  background worker &quot;logical replication launcher&quot; (PID 43) exited with exit code 1
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.932 UTC [38] LOG:  shutting down
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 2023-05-22 09:16:27.936 UTC [36] LOG:  database system is shut down
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT:  done
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: server stopped
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: PostgreSQL init process complete; ready for start up.
2023-05-22 09:16:28.106  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDOUT: 
2023-05-22 09:16:28.107  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:28.038 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432
2023-05-22 09:16:28.107  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:28.038 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432
2023-05-22 09:16:28.107  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:28.038 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;
2023-05-22 09:16:28.107  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:28.053 UTC [51] LOG:  database system was shut down at 2023-05-22 09:16:27 UTC
2023-05-22 09:16:28.107  INFO 1977 --- [ream-1618035273] z.t.d.p.p.DockerPostgresDatabaseProvider : STDERR: 2023-05-22 09:16:28.058 UTC [1] LOG:  database system is ready to accept connections
2023-05-22 09:16:28.913  INFO 1977 --- [    Test worker] e.o.b.c.at.config.ATWebConfiguration     : Initializing web client with localhost:9090
2023-05-22 09:16:30.987  INFO 1977 --- [    Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path '/admin'
2023-05-22 09:16:31.553  INFO 1977 --- [  prefetching-2] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2023-05-22 09:16:31.559  INFO 1977 --- [  prefetching-2] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-22 09:16:31.560  INFO 1977 --- [  prefetching-2] o.f.c.internal.license.VersionPrinter    : 
2023-05-22 09:16:31.601  INFO 1977 --- [  prefetching-2] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:32769/ymlzscthdecl (PostgreSQL 11.20)
2023-05-22 09:16:31.654  INFO 1977 --- [  prefetching-2] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.020s)
2023-05-22 09:16:31.668  INFO 1977 --- [  prefetching-2] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table &quot;public&quot;.&quot;flyway_schema_history&quot; ...
2023-05-22 09:16:31.710  INFO 1977 --- [  prefetching-2] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;public&quot;: &lt;&lt; Empty Schema &gt;&gt;
2023-05-22 09:16:31.715  INFO 1977 --- [  prefetching-2] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;public&quot; to version &quot;1 - create client table&quot;
2023-05-22 09:16:31.727  INFO 1977 --- [  prefetching-2] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema &quot;public&quot;, now at version v1 (execution time 00:00.029s)
2023-05-22 09:16:31.865  INFO 1977 --- [    Test worker] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 9090
2023-05-22 09:16:31.896  INFO 1977 --- [    Test worker] e.o.b.client.at.ClientATBootstrap        : Started ClientATBootstrap in 13.477 seconds (JVM running for 18.738)
2023-05-22 09:16:31.974  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user must be authenticated to read                         ?[90m# features/client/access-control.feature:10?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                      ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:32.541  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:32.542  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:32.544  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:32.546  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:32.547  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@73ae7ce4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6ff708d, com.ninjasquad.springmockk.MockkTestExecutionListener@ccba99, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1aa75e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53b2e5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7dd5d17a, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@18a8a42b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@4d5dc037, org.springframework.test.context.transaction.TransactionalTestExecutionListener@500497e3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@309d298, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5e5db72e, org.springframework.test.context.event.EventPublishingTestExecutionListener@7da298aa, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@9edb372, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@44bd3dc5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77ea06bb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1e64a724, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7a76e1b9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5708b827, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@70f0a3a3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b16671e, io.zonky.test.db.event.EventPublishingTestExecutionListener@6203cec]
2023-05-22 09:16:32.550  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user with no permission cannot read                        ?[90m# features/client/access-control.feature:15?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                         ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasNoPermission()?[0m
  ?[32mWhen ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                                ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:32.709  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:32.711  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:32.712  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:32.714  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:32.715  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@29fe45a3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1cdb3ccd, com.ninjasquad.springmockk.MockkTestExecutionListener@2af97fb9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1500416c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4e88dd32, org.springframework.test.context.support.DirtiesContextTestExecutionListener@b70ad7a, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6a151f1a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@7d893815, org.springframework.test.context.transaction.TransactionalTestExecutionListener@75600bdb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7bf56370, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@39da5edb, org.springframework.test.context.event.EventPublishingTestExecutionListener@d278065, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@786c7cc9, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@28d26e57, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4315d110, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@728055bf, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6991f512, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@520a8ea1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3f7a48a1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4fa7df5c, io.zonky.test.db.event.EventPublishingTestExecutionListener@29788adf]
2023-05-22 09:16:32.718  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: An authorized user can read                                  ?[90m# features/client/access-control.feature:20?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mWhen ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.219  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.222  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.224  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.227  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.228  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1675adad, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@384d40a5, com.ninjasquad.springmockk.MockkTestExecutionListener@f5eff92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2558c3fb, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1efb1a38, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ce1292a, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@34bbfd4b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@571fa73c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@11734d3d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@541e8e40, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3fa4702d, org.springframework.test.context.event.EventPublishingTestExecutionListener@15a806a2, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1eb9ab8f, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@3e755a96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@22cc606d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7784ff80, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2432c72c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@300788d6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@710959b3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2121d0ed, io.zonky.test.db.event.EventPublishingTestExecutionListener@13987842]
2023-05-22 09:16:33.234  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user must be authenticated to create ?[90m# features/client/access-control.feature:27?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m      ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32madding the new client?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m       ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.309  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.310  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.319  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.321  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.324  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19b0f61c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5d1ddb65, com.ninjasquad.springmockk.MockkTestExecutionListener@4c963d59, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2dfc833b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@33e2808e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17a364, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@7d963aca, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@343a8b18, org.springframework.test.context.transaction.TransactionalTestExecutionListener@137b9be1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2e4a0669, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@62c63900, org.springframework.test.context.event.EventPublishingTestExecutionListener@2441c0b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4daf3b31, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@332815a3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@607524ff, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4273c8be, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@76b11572, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@547930a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4cdc1d81, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@10b60a9c, io.zonky.test.db.event.EventPublishingTestExecutionListener@6e52877d]
2023-05-22 09:16:33.329  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user with no permission cannot create ?[90m# features/client/access-control.feature:34?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m       ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasNoPermission()?[0m
  ?[32mWhen ?[0m?[32madding the new client?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | first-name | last-name |
    | bob        | dylan     |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.476  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.478  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.480  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.482  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.489  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5b6abe1f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@21f9b360, com.ninjasquad.springmockk.MockkTestExecutionListener@520dc647, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c53f543, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@62c72490, org.springframework.test.context.support.DirtiesContextTestExecutionListener@ec9f91b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@32ca397b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@41c02b8c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1a787480, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b3847f5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@385abc08, org.springframework.test.context.event.EventPublishingTestExecutionListener@78067cc4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2183db30, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@389d371a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@554a76fd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1ee1c0cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2184c27b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@707004b6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@768b79db, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@667c2066, io.zonky.test.db.event.EventPublishingTestExecutionListener@61ecb1c8]
2023-05-22 09:16:33.499  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user must be authenticated to modify                      ?[90m# features/client/access-control.feature:41?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                     ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.553  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.560  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.562  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.564  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.564  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55781d31, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6d02c23f, com.ninjasquad.springmockk.MockkTestExecutionListener@6df38b48, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1f4e9eee, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@aca89a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7122b1ff, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@fadd58, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6ba88a47, org.springframework.test.context.transaction.TransactionalTestExecutionListener@35f18100, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@51386308, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7fe646a, org.springframework.test.context.event.EventPublishingTestExecutionListener@28ab3c60, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@11eb41f4, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@35950e2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f0b9d7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6c9c375, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4de6c6b9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f141a7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@763d7eef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3ea7d936, io.zonky.test.db.event.EventPublishingTestExecutionListener@458f1355]
2023-05-22 09:16:33.583  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user with no permission cannot modify                     ?[90m# features/client/access-control.feature:48?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                        ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasNoPermission()?[0m
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | first-name | last-name |
    | elvis      | presley   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                               ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.792  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.794  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.797  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.798  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.799  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3c3562c0, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3045fbb4, com.ninjasquad.springmockk.MockkTestExecutionListener@411b3740, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2e00032d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3934574f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26338386, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@3e8a1137, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@103d64a0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@ba8d7c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@313d5a87, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5f50f63e, org.springframework.test.context.event.EventPublishingTestExecutionListener@24338110, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@69e87cbe, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@32daea66, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ae30b05, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52602c48, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@78c7a736, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1dabeb92, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6fe27001, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3cb303d9, io.zonky.test.db.event.EventPublishingTestExecutionListener@7988fd6e]
2023-05-22 09:16:33.803  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user must be authenticated to remove                     ?[90m# features/client/access-control.feature:55?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser is not authenticated?[0m                                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserIsNotAuthenticated()?[0m
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mUNAUTHORIZED?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.856  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.856  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.858  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.859  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.860  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@d6ff21e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@510d6e38, com.ninjasquad.springmockk.MockkTestExecutionListener@627ed93a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@157312, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@72988e0c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@485e52c9, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5c7df5f1, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@775b908f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@41058886, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7bf75275, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4896f287, org.springframework.test.context.event.EventPublishingTestExecutionListener@6362dcf2, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@e4e39a0, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@4febb6e6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@30967756, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@45e6b8fa, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3a9a1adf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@28d4c7ec, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2b7b2967, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5baa759a, io.zonky.test.db.event.EventPublishingTestExecutionListener@310cd0d2]
2023-05-22 09:16:33.863  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user with no permission cannot remove                    ?[90m# features/client/access-control.feature:60?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has no permission?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasNoPermission()?[0m
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:33.992  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:33.993  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:33.995  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:33.996  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:33.996  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b10963a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@16f453c9, com.ninjasquad.springmockk.MockkTestExecutionListener@718fb7a2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58a7226e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4799ce06, org.springframework.test.context.support.DirtiesContextTestExecutionListener@73c7a727, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@7f792c5a, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1eacc589, org.springframework.test.context.transaction.TransactionalTestExecutionListener@174cd1a4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@597cb2f5, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6fd14e7c, org.springframework.test.context.event.EventPublishingTestExecutionListener@17294e82, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@66997c32, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@5a4e810e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3f098695, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@620992a8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4fdc1a37, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61b4a433, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@127abbbe, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3c48e78b, io.zonky.test.db.event.EventPublishingTestExecutionListener@13ea4f97]
2023-05-22 09:16:33.999  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A user with write permission cannot remove                 ?[90m# features/client/access-control.feature:65?[0m
  ?[32mGiven ?[0m?[32ma following set of existing clients?[0m                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
2023-05-22 09:16:34.177  WARN 1977 --- [     parallel-2] o.z.problem.spring.common.AdviceTraits   : Forbidden: Denied
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mFORBIDDEN?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:34.354  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:34.355  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:34.357  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:34.358  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:34.360  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@17e77d57, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1f9c9485, com.ninjasquad.springmockk.MockkTestExecutionListener@5deae5ef, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@791ff1b9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55be2608, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2e7da886, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@24b2e53b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@22265a2d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@60ca607, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@457607d8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@76dea970, org.springframework.test.context.event.EventPublishingTestExecutionListener@66b962b4, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5e6dcfa, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@705b4359, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@734df10b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5ecc8114, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6d7e973b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@47955046, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5bcc2416, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@61b2ca5a, io.zonky.test.db.event.EventPublishingTestExecutionListener@78ec5e18]
2023-05-22 09:16:34.363  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Add a new client to the existing clients                                                 ?[90m# features/client/add-clients.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                                                  ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m                                ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextIdentifierIs(java.util.UUID)?[0m
  ?[32mAnd ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                                                    ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32madding the new client?[0m                                                                       ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name | age |
    | test | 22  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mCREATED?[0m                                                              ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the existing client ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m?[32m are the following?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingAttributesOfExistingClientAre(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClient&gt;)?[0m
    | id                                   | name | age | creation-date       |
    | afd9ce9f-ee0e-4547-8c77-3cc43ec85dbc | test | 22  | 2020-10-11T12:00:00 |
2023-05-22 09:16:34.663  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:34.663  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:34.668  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:34.670  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:34.671  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@656605e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@29d8d7a9, com.ninjasquad.springmockk.MockkTestExecutionListener@50798d39, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@9b8d3db, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5c24a636, org.springframework.test.context.support.DirtiesContextTestExecutionListener@332e4784, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@2f22049d, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@60cb3ca9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19273390, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58f45557, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@674db438, org.springframework.test.context.event.EventPublishingTestExecutionListener@5e5af20c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7e41e1e4, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@4e55d96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e83d546, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7408c08, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@767f03c5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@58d8e971, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@48e13ec9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4bc2cb11, io.zonky.test.db.event.EventPublishingTestExecutionListener@452d9887]
2023-05-22 09:16:34.678  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Add a client with some invalid attributes         ?[90m# features/client/add-clients.feature:34?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextIdentifierIs(java.util.UUID)?[0m
2023-05-22 09:16:34.947  WARN 1977 --- [or-http-epoll-4] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;name\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/clients&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32madding the new client?[0m                                        ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age     |
    | [empty] | [empty] |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing clients is unchanged?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.existingClientsUnchanged()?[0m
2023-05-22 09:16:35.023  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.025  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.027  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.029  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.030  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7006b304, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@321b0237, com.ninjasquad.springmockk.MockkTestExecutionListener@62de6b17, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@19f4bfce, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5c2fb167, org.springframework.test.context.support.DirtiesContextTestExecutionListener@364f0a6f, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@27585962, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@1bee8888, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a6ba61b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7439cf4b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@11cf1be7, org.springframework.test.context.event.EventPublishingTestExecutionListener@7e0a7b9e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1936513a, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@23cf86c0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4ab6a17d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@674de53e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c59c76c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@137fb1a1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6cbd57fa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@64513b46, io.zonky.test.db.event.EventPublishingTestExecutionListener@66b1f207]
2023-05-22 09:16:35.034  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Add a client with some invalid attributes         ?[90m# features/client/add-clients.feature:35?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextIdentifierIs(java.util.UUID)?[0m
2023-05-22 09:16:35.155  WARN 1977 --- [or-http-epoll-4] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;name\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/clients&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;POST&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32madding the new client?[0m                                        ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | [empty] | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing clients is unchanged?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.existingClientsUnchanged()?[0m
2023-05-22 09:16:35.204  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.205  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.207  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.212  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.214  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6fe1a8f9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2882a80d, com.ninjasquad.springmockk.MockkTestExecutionListener@36d28b4c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6d919a4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@649ddfe6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5962c1b8, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@7b48b933, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@35929bc7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ffa007c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@705a793a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4ee5d723, org.springframework.test.context.event.EventPublishingTestExecutionListener@6f88319b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1e25f6, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@232e1f66, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@431298ef, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6d386dff, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1cf8d43b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4ffe2ded, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@187c011d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3605d078, io.zonky.test.db.event.EventPublishingTestExecutionListener@6c86938f]
2023-05-22 09:16:35.219  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Add a client duplicate on name when adding a new client   ?[90m# features/client/add-clients.feature:39?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next identifier is ?[0m?[32m?[1mafd9ce9f-ee0e-4547-8c77-3cc43ec85dbc?[0m ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextIdentifierIs(java.util.UUID)?[0m
  ?[32mAnd ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
2023-05-22 09:16:35.378  WARN 1977 --- [tor-tcp-epoll-1] o.z.problem.spring.common.AdviceTraits   : Bad Request: Client with name client1 already exists
  ?[32mWhen ?[0m?[32madding the new client?[0m                                        ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.addClient(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | client1 | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing clients is unchanged?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.existingClientsUnchanged()?[0m
2023-05-22 09:16:35.425  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.425  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.429  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.431  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.434  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d2aa0c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5282f922, com.ninjasquad.springmockk.MockkTestExecutionListener@76f18f68, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e5383d1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c43d4dd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@29cd7b9e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@53bd2b00, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@319267ad, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4305b87e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d62a0b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3b89f41a, org.springframework.test.context.event.EventPublishingTestExecutionListener@198453c9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@772ccecf, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@479a2453, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@33c7319e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@8662634, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@19adcb41, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@f03dc9b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5c24724, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3cac962e, io.zonky.test.db.event.EventPublishingTestExecutionListener@4baca539]
2023-05-22 09:16:35.437  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Look up an existing client                                   ?[90m# features/client/list-clients.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the returned client are the following?[0m          ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingClientAttributesAre(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClient&gt;)?[0m
    | id                                   | name    | age | creation-date       |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
2023-05-22 09:16:35.599  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.600  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.602  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.605  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.606  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@a0b8f79, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@561dc11f, com.ninjasquad.springmockk.MockkTestExecutionListener@7317fb, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@36bf28d2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6099193b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5834390e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@40e0213c, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@fd6784a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@272ee84a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5eab49e8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1f837ac0, org.springframework.test.context.event.EventPublishingTestExecutionListener@232b4552, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@739785c5, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@77f76656, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@73a65712, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@a5e9de1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@452888c2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@9a183e7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@487e4b06, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3631667d, io.zonky.test.db.event.EventPublishingTestExecutionListener@37de86e1]
2023-05-22 09:16:35.609  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Search any existing clients                                                                               ?[90m# features/client/list-clients.feature:25?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                                                   ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1m-?[0m                                                                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients contains ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6,29e364b9-f5ef-43d9-9f30-e07a30b73e01?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingExistingClientIdentifiersAre(java.lang.String)?[0m
2023-05-22 09:16:35.793  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.793  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.795  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.796  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.796  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5677b9e3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6a6e6278, com.ninjasquad.springmockk.MockkTestExecutionListener@296eda6c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@42c82f73, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@291b3e68, org.springframework.test.context.support.DirtiesContextTestExecutionListener@307fe491, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6f9de548, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6c2dec7f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1c3577ec, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@53a15397, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@53964b0e, org.springframework.test.context.event.EventPublishingTestExecutionListener@50db0b17, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@67668cf7, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@3e024667, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5fada492, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@57268fc3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4f4a0e4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2869ef63, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1a5247c8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@79e98bd6, io.zonky.test.db.event.EventPublishingTestExecutionListener@58bbe78f]
2023-05-22 09:16:35.799  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Search any existing clients                                                                               ?[90m# features/client/list-clients.feature:26?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                                                   ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1mclient?[0m                                                                         ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients contains ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6,29e364b9-f5ef-43d9-9f30-e07a30b73e01?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingExistingClientIdentifiersAre(java.lang.String)?[0m
2023-05-22 09:16:35.948  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:35.948  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:35.950  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:35.951  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:35.951  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2a8ff32, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5a8f777, com.ninjasquad.springmockk.MockkTestExecutionListener@4a6198a7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2e06a7e4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b928c79, org.springframework.test.context.support.DirtiesContextTestExecutionListener@29c3dd33, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@6fa1dc0c, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@74037f9b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b0dc426, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3c10ba31, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5db05003, org.springframework.test.context.event.EventPublishingTestExecutionListener@32200389, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@57e9dd1f, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@6e1134e1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@31fe5168, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3f02095, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1a6804d1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7db99d41, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3e0fe68f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3c799d53, io.zonky.test.db.event.EventPublishingTestExecutionListener@66ed4881]
2023-05-22 09:16:35.957  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Search any existing clients                                                                               ?[90m# features/client/list-clients.feature:27?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                                                   ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1mClIEnT?[0m                                                                         ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                                                                            ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients contains ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6,29e364b9-f5ef-43d9-9f30-e07a30b73e01?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingExistingClientIdentifiersAre(java.lang.String)?[0m
2023-05-22 09:16:36.115  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.115  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:36.116  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:36.119  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:36.120  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6616b9e0, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6ab35ce3, com.ninjasquad.springmockk.MockkTestExecutionListener@410308ff, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e22f3da, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2d288c47, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d8c9945, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@49136fb, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6dc4b990, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4e74adb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3d18bdb3, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@30336205, org.springframework.test.context.event.EventPublishingTestExecutionListener@787345aa, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@46fc79ed, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@3e71b1a4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1579cf25, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@77459635, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5253aa21, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@619cdd5e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3ac726af, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@61e8fbfc, io.zonky.test.db.event.EventPublishingTestExecutionListener@2ea55742]
2023-05-22 09:16:36.122  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Search any existing clients                                          ?[90m# features/client/list-clients.feature:28?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                                       ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1mclient1?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                                       ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients contains ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingExistingClientIdentifiersAre(java.lang.String)?[0m
2023-05-22 09:16:36.272  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.272  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:36.274  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:36.275  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:36.275  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@cb4999d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@8afd00e, com.ninjasquad.springmockk.MockkTestExecutionListener@1bd7bdf, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@69e0f16, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2ece1629, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58178c5e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@329e6700, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@440e28fa, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1aaf110c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e3e1b7b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3fd9c5db, org.springframework.test.context.event.EventPublishingTestExecutionListener@a256322, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6860341b, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@668b1faf, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@170df9b8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3610b408, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5fb99e3d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@61f18402, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@194971bd, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a4a3668, io.zonky.test.db.event.EventPublishingTestExecutionListener@39911d6a]
2023-05-22 09:16:36.282  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Search any existing clients       ?[90m# features/client/list-clients.feature:29?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m           ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mWhen ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1mx?[0m      ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients contains ?[0m?[32m?[1m-?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingExistingClientIdentifiersAre(java.lang.String)?[0m
2023-05-22 09:16:36.438  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.438  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:36.440  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:36.442  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:36.443  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d3987a6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4cf2bf26, com.ninjasquad.springmockk.MockkTestExecutionListener@721fda59, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cb9cc85, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1d0c7a03, org.springframework.test.context.support.DirtiesContextTestExecutionListener@445eed0b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@481f2acb, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2a201aa9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5402b18c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@670738b2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@56ff0feb, org.springframework.test.context.event.EventPublishingTestExecutionListener@7ca0b2cf, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3d6fe206, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@63f38fb1, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4d5d5473, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3412a1dd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@762f0a8b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@95e8df8, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2e07ae6c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@fbafe38, io.zonky.test.db.event.EventPublishingTestExecutionListener@1cfc616]
2023-05-22 09:16:36.447  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Look up a non-existing client                                ?[90m# features/client/list-clients.feature:33?[0m
  ?[32mGiven ?[0m?[32muser has read permission?[0m                                       ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasReadPermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
2023-05-22 09:16:36.582  WARN 1977 --- [tor-tcp-epoll-2] o.z.problem.spring.common.AdviceTraits   : Not Found: Client c9eda137-c57f-4ff9-b711-43ea5728ba9f does not exist
  ?[32mWhen ?[0m?[32mlooking up existing client ?[0m?[32m?[1mc9eda137-c57f-4ff9-b711-43ea5728ba9f?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                                ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:36.616  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.618  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:36.620  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:36.622  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:36.623  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7a1f008, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@68bffb06, com.ninjasquad.springmockk.MockkTestExecutionListener@736b145b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7bfb5147, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7352cf80, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64a27d27, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@4f407424, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6e9065e2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@bdb997f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ce78666, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@304a2c8a, org.springframework.test.context.event.EventPublishingTestExecutionListener@5d98f014, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@adf9ab9, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@4acbe932, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b04b29d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3106efb9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@477aa172, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@52ed42d6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5cf3924c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5a0ec54c, io.zonky.test.db.event.EventPublishingTestExecutionListener@486d9e4e]
2023-05-22 09:16:36.626  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Apply a valid mutation to an existing client                                     ?[90m# features/client/modify-clients.feature:23?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                                                  ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                                                  ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | client1 | -   |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m?[32m are the following?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingAttributesOfExistingClientAre(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClient&gt;)?[0m
    | id                                   | name    | age | creation-date       |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | -   | 2020-10-10T12:00:00 |
2023-05-22 09:16:36.809  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.809  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:36.811  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:36.812  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:36.814  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3c650ad2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@74bcff71, com.ninjasquad.springmockk.MockkTestExecutionListener@54ba7366, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@b692323, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1fce8b06, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c1aa8f9, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@bbccb5f, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@498e9130, org.springframework.test.context.transaction.TransactionalTestExecutionListener@22f3a5bc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b779c7b, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@16fc5679, org.springframework.test.context.event.EventPublishingTestExecutionListener@2b465287, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1427cc16, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@53f40ead, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@27cfc534, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3e046920, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@14e9458a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@671ba0dc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3e242f6e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@23f41ce3, io.zonky.test.db.event.EventPublishingTestExecutionListener@7d6fc802]
2023-05-22 09:16:36.819  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Apply a valid mutation to an existing client                                     ?[90m# features/client/modify-clients.feature:24?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                                                  ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                                                  ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | client1 | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNO_CONTENT?[0m                                                           ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m?[32m are the following?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingAttributesOfExistingClientAre(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClient&gt;)?[0m
    | id                                   | name    | age | creation-date       |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
2023-05-22 09:16:36.995  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:36.995  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.000  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.001  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.002  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5b989e1d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@58b472b4, com.ninjasquad.springmockk.MockkTestExecutionListener@5b2e7293, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@472d3c57, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@585a2ad9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2300d2b4, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@b9286ad, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2573cc0c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2cf62699, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@946d4c1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@167e8caa, org.springframework.test.context.event.EventPublishingTestExecutionListener@2dd631c5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@30090808, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@f562214, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6dafe488, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@71ebb8e1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@95aa79c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@37a26221, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@25bb5bf9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@93bc31f, io.zonky.test.db.event.EventPublishingTestExecutionListener@5581f3e3]
2023-05-22 09:16:37.004  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Apply an invalid mutation to an existing client                              ?[90m# features/client/modify-clients.feature:37?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                                              ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                                              ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
2023-05-22 09:16:37.146  WARN 1977 --- [tor-tcp-epoll-4] o.z.problem.spring.common.AdviceTraits   : Bad Request: Client with name client2 already exists
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | client2 | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                                                      ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m?[32m are unchanged?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.clientAttributesAreUnchanged(java.util.UUID)?[0m
2023-05-22 09:16:37.177  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:37.178  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.181  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.182  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.183  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5979d0a5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@33d2e82, com.ninjasquad.springmockk.MockkTestExecutionListener@43eb581d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@23ccdee9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@34a7decd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e04bfe5, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@47362f88, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@2488a11, org.springframework.test.context.transaction.TransactionalTestExecutionListener@8936d23, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@73131043, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5af2bc6, org.springframework.test.context.event.EventPublishingTestExecutionListener@43f13160, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5018b648, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@3be22500, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@476fc8a1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ddf8b1d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@18e0c618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@32002a21, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@b13c600, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7ae5231c, io.zonky.test.db.event.EventPublishingTestExecutionListener@642bfa5e]
2023-05-22 09:16:37.187  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario Outline: Apply an invalid mutation to an existing client                              ?[90m# features/client/modify-clients.feature:38?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                                              ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                                                      ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                                              ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
2023-05-22 09:16:37.303  WARN 1977 --- [or-http-epoll-4] o.z.problem.spring.common.AdviceTraits   : Bad Request: {
  &quot;messages&quot; : [ {
    &quot;key&quot; : &quot;validation.request.body.schema.required&quot;,
    &quot;level&quot; : &quot;ERROR&quot;,
    &quot;message&quot; : &quot;Object has missing required properties ([\&quot;name\&quot;])&quot;,
    &quot;context&quot; : {
      &quot;requestPath&quot; : &quot;/clients/ce751f30-217a-422c-b81b-8f75df4917b6&quot;,
      &quot;apiRequestContentType&quot; : &quot;application/json&quot;,
      &quot;location&quot; : &quot;REQUEST&quot;,
      &quot;pointers&quot; : {
        &quot;instance&quot; : &quot;/&quot;
      },
      &quot;requestMethod&quot; : &quot;PUT&quot;
    }
  } ]
}
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m                          ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name | age |
    | -    | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                                                      ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m?[32m are unchanged?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.clientAttributesAreUnchanged(java.util.UUID)?[0m
2023-05-22 09:16:37.334  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:37.335  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.338  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.340  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.341  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@11514c77, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2a93ad09, com.ninjasquad.springmockk.MockkTestExecutionListener@31ef9ac6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@87ef6de, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@13572152, org.springframework.test.context.support.DirtiesContextTestExecutionListener@249b2dd4, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@696faa2b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@16d869de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3caf87e6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4127f82a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@550d3cd7, org.springframework.test.context.event.EventPublishingTestExecutionListener@4e3931, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@409e0e69, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@3e0658f8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2d1206b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@73a706b1, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@437aa3ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f37f2e5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@44ee4110, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f3745b2, io.zonky.test.db.event.EventPublishingTestExecutionListener@19c4c24d]
2023-05-22 09:16:37.346  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Update a non-existing client                                ?[90m# features/client/modify-clients.feature:42?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                     ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
2023-05-22 09:16:37.490  WARN 1977 --- [tor-tcp-epoll-1] o.z.problem.spring.common.AdviceTraits   : Not Found: Client c9eda137-c57f-4ff9-b711-43ea5728ba9f does not exist
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mc9eda137-c57f-4ff9-b711-43ea5728ba9f?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name | age |
    | any  | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                               ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:37.512  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:37.513  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.515  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.516  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.517  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6a6b4536, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5582249c, com.ninjasquad.springmockk.MockkTestExecutionListener@19801b8d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@62b2885d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@524023c8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@16224bd8, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@f6776e2, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@79e1f733, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2aecd5a4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2e1437aa, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@1a7084ec, org.springframework.test.context.event.EventPublishingTestExecutionListener@6cdea0fe, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@20531934, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@2f75c3f3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@313c7515, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@287cfa9c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@10decc1e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1135efad, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4373a443, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@c940eab, io.zonky.test.db.event.EventPublishingTestExecutionListener@6a4c9d1b]
2023-05-22 09:16:37.519  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Add a client duplicate when updating an existing client     ?[90m# features/client/modify-clients.feature:51?[0m
  ?[32mGiven ?[0m?[32muser has write permission?[0m                                     ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasWritePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
2023-05-22 09:16:37.650  WARN 1977 --- [tor-tcp-epoll-1] o.z.problem.spring.common.AdviceTraits   : Bad Request: Client with name client2 already exists
  ?[32mWhen ?[0m?[32mreplacing existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.updateClient(java.util.UUID,java.util.List&lt;edu.obya.blueprint.client.at.types.TestClientInput&gt;)?[0m
    | name    | age |
    | client2 | 21  |
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mBAD_REQUEST?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe set of existing clients is unchanged?[0m                        ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.existingClientsUnchanged()?[0m
2023-05-22 09:16:37.679  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:37.680  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.683  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.684  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.685  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@26781ebb, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2852fb2a, com.ninjasquad.springmockk.MockkTestExecutionListener@2e15a0d7, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@947782d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6f2c2278, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50980f1c, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@53080ec0, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@613c829c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6f0d5321, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f7d5133, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6c903e12, org.springframework.test.context.event.EventPublishingTestExecutionListener@693d797e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6cacab23, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@794d8b4c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@14c05ad9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@163427b6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1f4863e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@aca8cae, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1cca09bc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2b749404, io.zonky.test.db.event.EventPublishingTestExecutionListener@77ffb5e9]
2023-05-22 09:16:37.687  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A removed client cannot be looked up                        ?[90m# features/client/remove-clients.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m  ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
2023-05-22 09:16:37.924  WARN 1977 --- [tor-tcp-epoll-3] o.z.problem.spring.common.AdviceTraits   : Not Found: Client ce751f30-217a-422c-b81b-8f75df4917b6 does not exist
  ?[32mAnd ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                               ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:37.941  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:37.941  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:37.942  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:37.943  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:37.944  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@60c44f6f, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3ed6d7fb, com.ninjasquad.springmockk.MockkTestExecutionListener@77431f12, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6ab949ed, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28c4cce2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@20a5bf0e, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@4ff19f87, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@6fa741b5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@618a237f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c5abd8f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2f940a24, org.springframework.test.context.event.EventPublishingTestExecutionListener@7aeb4c8a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4a4a1973, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@73c57370, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7c8f8206, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5ca01e01, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@46bb0567, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1e3da033, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1ea29e40, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@422ecb83, io.zonky.test.db.event.EventPublishingTestExecutionListener@5c206e9c]
2023-05-22 09:16:37.946  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: A removed client cannot be searched                        ?[90m# features/client/remove-clients.feature:18?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mAnd ?[0m?[32mlooking up existing clients with name ?[0m?[32m?[1mclient1?[0m                  ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientByName(java.lang.String)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                     ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe result set of existing clients is empty?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.noResultingExistingClientIdentifiers()?[0m
2023-05-22 09:16:38.184  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:38.184  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:38.186  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:38.187  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:38.188  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@12278d1c, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1b232da1, com.ninjasquad.springmockk.MockkTestExecutionListener@13ec6ea8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57e51932, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@790431bf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7b48451b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@ba1edf4, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@74f2593b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2ca307d3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@157affc1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@11306ed7, org.springframework.test.context.event.EventPublishingTestExecutionListener@776dd64b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@43c4daea, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@102a1a4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@13d63185, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@a10723a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6f66fa18, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7b7d69d1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@59053522, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@508d0d9a, io.zonky.test.db.event.EventPublishingTestExecutionListener@8e39ba9]
2023-05-22 09:16:38.190  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Remove a non-existing client                               ?[90m# features/client/remove-clients.feature:27?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                   ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                            ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
2023-05-22 09:16:38.310  WARN 1977 --- [tor-tcp-epoll-4] o.z.problem.spring.common.AdviceTraits   : Not Found: Client c9eda137-c57f-4ff9-b711-43ea5728ba9f does not exist
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mc9eda137-c57f-4ff9-b711-43ea5728ba9f?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                              ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:38.330  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:38.330  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:38.332  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:38.333  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:38.334  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@50c5e3ce, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@44ef04ac, com.ninjasquad.springmockk.MockkTestExecutionListener@5e71e8d4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@50f77992, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2f533bd1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a590f3, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@4243ed1b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@29932728, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1fa81c78, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@20b52576, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7d432f4e, org.springframework.test.context.event.EventPublishingTestExecutionListener@4d59eda9, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@12cd63a6, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@1b5a6a1c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7f070f66, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7d31918a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4981dd9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4c5a9ddc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@b61c70e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7a2daa29, io.zonky.test.db.event.EventPublishingTestExecutionListener@3e9f0660]
2023-05-22 09:16:38.337  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Restore a removed client                                    ?[90m# features/client/restore-clients.feature:12?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                                    ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                             ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
  ?[32mGiven ?[0m?[32mthe next timestamp is ?[0m?[32m?[1m2020-10-11T12:00:00?[0m                     ?[90m# void edu.obya.blueprint.client.at.steps.CommonFixtureSteps.nextTimestampIs(java.time.LocalDateTime)?[0m
  ?[32mWhen ?[0m?[32mremoving existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m  ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.deleteClient(java.util.UUID)?[0m
  ?[32mAnd ?[0m?[32mrestoring client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m           ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.restoreClient(java.util.UUID)?[0m
  ?[32mAnd ?[0m?[32mlooking up existing client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.lookupClientById(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mOK?[0m                                      ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
  ?[32mAnd ?[0m?[32mthe attributes of the returned client are the following?[0m         ?[90m# void edu.obya.blueprint.client.at.steps.ClientAssertionSteps.resultingClientAttributesAre(java.util.List&lt;edu.obya.blueprint.client.at.types.TestClient&gt;)?[0m
    | id                                   | name    | age | creation-date       |
    | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
2023-05-22 09:16:38.705  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:38.706  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:38.707  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:38.708  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:38.709  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1503ef2, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@39d8d89, com.ninjasquad.springmockk.MockkTestExecutionListener@645650b1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6caffb24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c88ffed, org.springframework.test.context.support.DirtiesContextTestExecutionListener@396d630, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@5593dd2b, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@46f66a66, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6d2a92c2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58b8ee01, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@13890ab8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6659e7f5, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5fdcc57e, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@400bf062, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1b0cfe11, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3243d4ca, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b8d10c9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@149a793a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@681ae1ce, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@44d39d83, io.zonky.test.db.event.EventPublishingTestExecutionListener@27bbd688]
2023-05-22 09:16:38.711  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Restore a non-removed client                       ?[90m# features/client/restore-clients.feature:24?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
2023-05-22 09:16:38.828  WARN 1977 --- [tor-tcp-epoll-2] o.z.problem.spring.common.AdviceTraits   : Not Found: Client ce751f30-217a-422c-b81b-8f75df4917b6 does not exist
  ?[32mWhen ?[0m?[32mrestoring client ?[0m?[32m?[1mce751f30-217a-422c-b81b-8f75df4917b6?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.restoreClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
2023-05-22 09:16:38.848  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [edu.obya.blueprint.client.at.ClientATBootstrap], using SpringBootContextLoader
2023-05-22 09:16:38.850  INFO 1977 --- [    Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [edu.obya.blueprint.client.at.ClientATBootstrap]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-05-22 09:16:38.851  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration edu.obya.blueprint.client.at.ClientATSpringBootConfiguration for test class edu.obya.blueprint.client.at.ClientATBootstrap
2023-05-22 09:16:38.852  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [com.ninjasquad.springmockk.MockkTestExecutionListener, com.ninjasquad.springmockk.ClearMocksTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener, io.zonky.test.db.event.EventPublishingTestExecutionListener, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener]
2023-05-22 09:16:38.854  INFO 1977 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e30050, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7e9589b2, com.ninjasquad.springmockk.MockkTestExecutionListener@6764a6d4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1d17b20f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@269c07d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50e3019b, io.zonky.test.db.EmbeddedDatabaseTestExecutionListener@12f35f55, io.zonky.test.db.flyway.OptimizedFlywayTestExecutionListener@325410ce, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e7254d1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@36d56d5d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e549525, org.springframework.test.context.event.EventPublishingTestExecutionListener@2c143041, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@402c3dce, com.ninjasquad.springmockk.ClearMocksTestExecutionListener@5d0e1f13, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@47e9542a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4af2f2ae, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6b916473, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@464a1895, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4b0f5c72, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1635b03f, io.zonky.test.db.event.EventPublishingTestExecutionListener@7667fc76]
2023-05-22 09:16:38.856  INFO 1977 --- [    Test worker] i.z.t.d.l.EmbeddedDatabaseReporter       : JDBC URL to connect to 'dataSource': url='jdbc:postgresql://localhost:32769/ebnddazxgpnq?user=postgres&amp;password=docker', scope='TestContextAdaptor#cucumberDoesNotHaveASingleTestMethod'

Scenario: Restore a non-existing client                      ?[90m# features/client/restore-clients.feature:28?[0m
  ?[32mGiven ?[0m?[32muser has remove permission?[0m                           ?[90m# void edu.obya.blueprint.client.at.steps.AccessFixtureSteps.aUserHasRemovePermission()?[0m
  ?[32mAnd ?[0m?[32ma following set of existing clients?[0m                    ?[90m# void edu.obya.blueprint.client.at.steps.ClientFixtureSteps.existingClientsAre(java.util.List&lt;kotlin.Pair&lt;java.lang.Integer, edu.obya.blueprint.client.at.types.TestClient&gt;&gt;)?[0m
    | model-id | id                                   | name    | age | creation-date       |
    | 1        | ce751f30-217a-422c-b81b-8f75df4917b6 | client1 | 21  | 2020-10-10T12:00:00 |
    | 2        | 29e364b9-f5ef-43d9-9f30-e07a30b73e01 | client2 | -   | 2020-10-09T12:00:00 |
2023-05-22 09:16:38.980  WARN 1977 --- [tor-tcp-epoll-2] o.z.problem.spring.common.AdviceTraits   : Not Found: Client c9eda137-c57f-4ff9-b711-43ea5728ba9f does not exist
  ?[32mWhen ?[0m?[32mrestoring client ?[0m?[32m?[1mc9eda137-c57f-4ff9-b711-43ea5728ba9f?[0m ?[90m# void edu.obya.blueprint.client.at.steps.ClientActionSteps.restoreClient(java.util.UUID)?[0m
  ?[32mThen ?[0m?[32mthe response status is ?[0m?[32m?[1mNOT_FOUND?[0m                      ?[90m# void edu.obya.blueprint.client.at.steps.WebAssertionSteps.responseStatusIs(org.springframework.http.HttpStatus)?[0m
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.0.2</a> at May 22, 2023, 9:16:42 AM</p>
</div>
</div>
</body>
</html>
